<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tools for creating key performance indicator reports for clinical trial • kpitools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Tools for creating key performance indicator reports for clinical trial">
<meta property="og:description" content="Assessing performance of clinical trials can assist identify problems earlier in the trial than might be possible without it and help to improve trial quality. Tools for the creating performance indicator reports are however uncommon. kpitools aims to provide tools to create such reports. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">kpitools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="kpitools" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#kpitools" class="anchor"></a>kpitools</h1></div>

<p>Tools for creating key performance indicator (KPI) reports.</p>
</div>
<div id="example-usage" class="section level1">
<h1 class="hasAnchor">
<a href="#example-usage" class="anchor"></a>Example usage</h1>
<p>The package can be installed from <a href="https://github.com/CTU-Bern/kpitools">github</a> via the <code>remotes</code> package</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("remotes")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"CTU-Bern/kpitools"</span>)</span></code></pre></div>
<p>Note that <code>remotes</code> treats any warnings (e.g. that a certain package was built under a different version of R) as errors. If you see such an error, run the following line and try again:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">Sys.setenv</span>(<span class="dt">R_REMOTES_NO_ERRORS_FROM_WARNINGS =</span> <span class="st">"true"</span>)</span></code></pre></div>
<p>And loaded via</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">library</span>(kpitools)</span></code></pre></div>
<div id="calculating-kpis" class="section level2">
<h2 class="hasAnchor">
<a href="#calculating-kpis" class="anchor"></a>Calculating KPIs</h2>
<p>The main function is the <code>kpi</code> function. A dataframe is passed to it together with the <code>var</code>iable that is of interest for the current KPI. A summary function also needs to be passed which determines how the KPI is calculated.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">data</span>(mtcars)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>mtcars<span class="op">$</span>highmpg &lt;-<span class="st"> </span>mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span></span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>,             <span class="co"># variable to be summarized (focus of the KPI)</span></span>
<span id="cb4-7"><a href="#cb4-7"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc,        <span class="co"># summary function</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 25"</span>) <span class="co"># (optional) nicer text to add to tables</span></span>
<span id="cb4-9"><a href="#cb4-9"></a></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">## $overall</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">## $overall$calc</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">##                   txt  n  N  stat</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">## 1 Percentage MPG &gt; 25 14 32 43.75</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">## </span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">## $overall$outlier</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">## [1] txt  n    N    stat</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">## </span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">## </span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">## attr(,"class")</span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">## [1] "kpi"  "list"</span></span></code></pre></div>
<p>It is also possible to calculate the KPIs over specific groups via the <code>by</code> option:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>,             <span class="co"># variable to be summarized (focus of the KPI)</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc,        <span class="co"># summary function</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 20"</span>, <span class="co"># (optional) nicer text to add to tables</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>      <span class="dt">by =</span> <span class="st">"am"</span>)                   <span class="co"># (optional) stratifying variable</span></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">## $overall</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">## $overall$calc</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">##                   txt  n  N  stat</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">## 1 Percentage MPG &gt; 20 14 32 43.75</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">## </span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">## $overall$outlier</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">## [1] txt  n    N    stat</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">## </span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">## </span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">## $am</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">## $am$calc</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">## # A tibble: 2 x 5</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">##   txt                    am     n     N  stat</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">##   &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">## 1 Percentage MPG &gt; 20     0     4    19  21.1</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co">## 2 Percentage MPG &gt; 20     1    10    13  76.9</span></span>
<span id="cb5-24"><a href="#cb5-24"></a><span class="co">## </span></span>
<span id="cb5-25"><a href="#cb5-25"></a><span class="co">## $am$outlier</span></span>
<span id="cb5-26"><a href="#cb5-26"></a><span class="co">## # A tibble: 0 x 5</span></span>
<span id="cb5-27"><a href="#cb5-27"></a><span class="co">## # … with 5 variables: txt &lt;chr&gt;, am &lt;dbl&gt;, n &lt;int&gt;, N &lt;int&gt;, stat &lt;dbl&gt;</span></span>
<span id="cb5-28"><a href="#cb5-28"></a><span class="co">## </span></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="co">## </span></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co">## attr(,"class")</span></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="co">## [1] "kpi"  "list"</span></span></code></pre></div>
<p>The <code>by</code> argument also works over multiple variables:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>,             <span class="co"># variable to be summarized (focus of the KPI)</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc,        <span class="co"># summary function</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 20"</span>, <span class="co"># (optional) nicer text to add to tables</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>      <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">"am"</span>, <span class="st">"gear"</span>))        <span class="co"># (optional) stratifying variables</span></span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">## $overall</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">## $overall$calc</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">##                   txt  n  N  stat</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">## 1 Percentage MPG &gt; 20 14 32 43.75</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">## </span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">## $overall$outlier</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">## [1] txt  n    N    stat</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">## </span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">## </span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">## $am</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">## $am$calc</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">## # A tibble: 2 x 5</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">##   txt                    am     n     N  stat</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">##   &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">## 1 Percentage MPG &gt; 20     0     4    19  21.1</span></span>
<span id="cb6-23"><a href="#cb6-23"></a><span class="co">## 2 Percentage MPG &gt; 20     1    10    13  76.9</span></span>
<span id="cb6-24"><a href="#cb6-24"></a><span class="co">## </span></span>
<span id="cb6-25"><a href="#cb6-25"></a><span class="co">## $am$outlier</span></span>
<span id="cb6-26"><a href="#cb6-26"></a><span class="co">## # A tibble: 0 x 5</span></span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="co">## # … with 5 variables: txt &lt;chr&gt;, am &lt;dbl&gt;, n &lt;int&gt;, N &lt;int&gt;, stat &lt;dbl&gt;</span></span>
<span id="cb6-28"><a href="#cb6-28"></a><span class="co">## </span></span>
<span id="cb6-29"><a href="#cb6-29"></a><span class="co">## </span></span>
<span id="cb6-30"><a href="#cb6-30"></a><span class="co">## $gear</span></span>
<span id="cb6-31"><a href="#cb6-31"></a><span class="co">## $gear$calc</span></span>
<span id="cb6-32"><a href="#cb6-32"></a><span class="co">## # A tibble: 3 x 5</span></span>
<span id="cb6-33"><a href="#cb6-33"></a><span class="co">##   txt                  gear     n     N  stat</span></span>
<span id="cb6-34"><a href="#cb6-34"></a><span class="co">##   &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;</span></span>
<span id="cb6-35"><a href="#cb6-35"></a><span class="co">## 1 Percentage MPG &gt; 20     3     2    15  13.3</span></span>
<span id="cb6-36"><a href="#cb6-36"></a><span class="co">## 2 Percentage MPG &gt; 20     4    10    12  83.3</span></span>
<span id="cb6-37"><a href="#cb6-37"></a><span class="co">## 3 Percentage MPG &gt; 20     5     2     5  40  </span></span>
<span id="cb6-38"><a href="#cb6-38"></a><span class="co">## </span></span>
<span id="cb6-39"><a href="#cb6-39"></a><span class="co">## $gear$outlier</span></span>
<span id="cb6-40"><a href="#cb6-40"></a><span class="co">## # A tibble: 0 x 5</span></span>
<span id="cb6-41"><a href="#cb6-41"></a><span class="co">## # … with 5 variables: txt &lt;chr&gt;, gear &lt;dbl&gt;, n &lt;int&gt;, N &lt;int&gt;, stat &lt;dbl&gt;</span></span>
<span id="cb6-42"><a href="#cb6-42"></a><span class="co">## </span></span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="co">## </span></span>
<span id="cb6-44"><a href="#cb6-44"></a><span class="co">## attr(,"class")</span></span>
<span id="cb6-45"><a href="#cb6-45"></a><span class="co">## [1] "kpi"  "list"</span></span></code></pre></div>
<p>KPIs are often reported with cutoffs (for use with a traffic light type approach). Cutoffs can be passed to <code>kpi</code>, with or without labels.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># without labels</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>,                <span class="co"># variable to be summarized (focus of the KPI) </span></span>
<span id="cb7-4"><a href="#cb7-4"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc,           <span class="co"># summary function </span></span>
<span id="cb7-5"><a href="#cb7-5"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 20"</span>,    <span class="co"># (optional) nicer text to add to tables</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>      <span class="dt">by =</span> <span class="st">"am"</span>,                      <span class="co"># (optional) stratifying variable</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>      <span class="dt">cutpoints =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">33.3</span>,<span class="fl">66.6</span>,<span class="dv">100</span>)) <span class="co"># (optional) cutoff points</span></span></code></pre></div>
<p>Add in cutoffs for quality with labels</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>,                        <span class="co"># variable to be summarized (focus of the KPI)  </span></span>
<span id="cb8-3"><a href="#cb8-3"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc,                   <span class="co"># summary function   </span></span>
<span id="cb8-4"><a href="#cb8-4"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 20"</span>,            <span class="co"># (optional) nicer text to add to tables </span></span>
<span id="cb8-5"><a href="#cb8-5"></a>      <span class="dt">by =</span> <span class="st">"am"</span>,                              <span class="co"># (optional) stratifying variable </span></span>
<span id="cb8-6"><a href="#cb8-6"></a>      <span class="dt">cutpoints =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">33.3</span>,<span class="fl">66.6</span>,<span class="dv">100</span>),         <span class="co"># (optional) cutoff points </span></span>
<span id="cb8-7"><a href="#cb8-7"></a>      <span class="dt">cutlabels =</span> <span class="kw">c</span>(<span class="st">"Low"</span>, <span class="st">"Medium"</span>, <span class="st">"High"</span>)) <span class="co"># (optional) labels for the cutoff points</span></span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">## $overall</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">## $overall$calc</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">##                   txt  n  N  stat         cut cutgrp</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">## 1 Percentage MPG &gt; 20 14 32 43.75 (33.3,66.6] Medium</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">## </span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">## $overall$outlier</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">## [1] txt  n    N    stat</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">## &lt;0 rows&gt; (or 0-length row.names)</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">## </span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">## </span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">## $am</span></span>
<span id="cb8-20"><a href="#cb8-20"></a><span class="co">## $am$calc</span></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="co">## # A tibble: 2 x 7</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="co">##   txt                    am     n     N  stat cut        cutgrp</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">##   &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;fct&gt;      &lt;fct&gt; </span></span>
<span id="cb8-24"><a href="#cb8-24"></a><span class="co">## 1 Percentage MPG &gt; 20     0     4    19  21.1 (0,33.3]   Low   </span></span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="co">## 2 Percentage MPG &gt; 20     1    10    13  76.9 (66.6,100] High  </span></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">## </span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="co">## $am$outlier</span></span>
<span id="cb8-28"><a href="#cb8-28"></a><span class="co">## # A tibble: 0 x 5</span></span>
<span id="cb8-29"><a href="#cb8-29"></a><span class="co">## # … with 5 variables: txt &lt;chr&gt;, am &lt;dbl&gt;, n &lt;int&gt;, N &lt;int&gt;, stat &lt;dbl&gt;</span></span>
<span id="cb8-30"><a href="#cb8-30"></a><span class="co">## </span></span>
<span id="cb8-31"><a href="#cb8-31"></a><span class="co">## </span></span>
<span id="cb8-32"><a href="#cb8-32"></a><span class="co">## attr(,"class")</span></span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co">## [1] "kpi"  "list"</span></span></code></pre></div>
</div>
<div id="visualising-variation-among-levels-of-the-study-hierarchy" class="section level2">
<h2 class="hasAnchor">
<a href="#visualising-variation-among-levels-of-the-study-hierarchy" class="anchor"></a>Visualising variation among levels of the study hierarchy</h2>
<p>There is a plot method for the output from <code>kpi</code> which returns a list of <code>ggplot2</code> objects.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>kpi &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="st">  </span><span class="kw">kpi</span>(<span class="dt">var =</span> <span class="st">"highmpg"</span>, </span>
<span id="cb9-3"><a href="#cb9-3"></a>      <span class="dt">kpi_fn =</span> kpi_fn_perc, </span>
<span id="cb9-4"><a href="#cb9-4"></a>      <span class="dt">txt =</span> <span class="st">"Percentage MPG &gt; 20"</span>,</span>
<span id="cb9-5"><a href="#cb9-5"></a>      <span class="dt">by =</span> <span class="st">"cyl"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a>(plot &lt;-<span class="st"> </span><span class="kw">plot</span>(kpi))</span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">## $cyl</span></span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-7-1.png"></p>
<p><code>ggplot2</code> objects allow for easy modification after their creation for further customisation.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>plot<span class="op">$</span>cyl <span class="op">+</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>        <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb10-5"><a href="#cb10-5"></a>        <span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb10-6"><a href="#cb10-6"></a>        <span class="dt">axis.ticks.y =</span> <span class="kw">element_blank</span>(),</span>
<span id="cb10-7"><a href="#cb10-7"></a>        <span class="dt">legend.margin =</span> <span class="kw">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</span>
<span id="cb10-8"><a href="#cb10-8"></a>        )</span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-8-1.png"></p>
<p>A <code>ggplot2</code> theme is also provided which implements modifications similar to those above - <code>theme_kpitools</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>plot<span class="op">$</span>cyl <span class="op">+</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="st">  </span><span class="kw">theme_kpitools</span>()</span></code></pre></div>
<p><img src="README_files/figure-markdown_strict/unnamed-chunk-9-1.png"></p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alan Haynes <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1374-081X" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/CTU-Bern/kpitools"><img src="https://img.shields.io/badge/dev%20version-0.0.1.9000-blue.svg"></a></li>
<li><a href="https://github.com/CTU-Bern/kpitools/actions/workflows/R-CMD-full.yaml"><img src="https://github.com/CTU-Bern/kpitools/actions/workflows/R-CMD-full.yaml/badge.svg" alt="R-CMD-fullcheck"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Alan Haynes.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
