---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

# kpitools

`r badger::badge_custom("dev version", as.character(packageVersion("presize")), "blue", "https://github.com/CTU-Bern/presize")`
[![R-CMD-fullcheck](https://github.com/CTU-Bern/kpitools/actions/workflows/R-CMD-full.yaml/badge.svg)](https://github.com/CTU-Bern/kpitools/actions/workflows/R-CMD-full.yaml)


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Tools for creating KPI reports.

Example usage 

```{r, message=FALSE}
library(kpitools)
```

KPI for the whole study
```{r, eval = TRUE}
data(mtcars)

mtcars$highmpg <- mtcars$mpg > 20

mtcars %>%
  kpi(var = "highmpg", 
      kpi_fn = kpi_fn_perc, 
      txt = "Percentage MPG > 25")


```


KPI for groups
```{r}
mtcars %>%
  kpi(var = "highmpg", 
      kpi_fn = kpi_fn_perc, 
      txt = "Percentage MPG > 20",
      by = "am")

```

KPI over multiple groups
```{r}
mtcars %>%
  kpi(var = "highmpg", 
      kpi_fn = kpi_fn_perc, 
      txt = "Percentage MPG > 20",
      by = c("am", "gear"))

```

Add in cutoffs for quality without labels
```{r}
mtcars %>%
  kpi(var = "highmpg", 
      kpi_fn = kpi_fn_perc, 
      txt = "Percentage MPG > 20",
      by = "am",
      cutpoints = c(0,33.3,66.6,100))

```

Add in cutoffs for quality with labels
```{r}
mtcars %>%
  kpi(var = "highmpg", 
      kpi_fn = kpi_fn_perc, 
      txt = "Percentage MPG > 20",
      by = "am",
      cutpoints = c(0,33.3,66.6,100),
      cutlabels = c("Low", "Medium", "High"))

```
